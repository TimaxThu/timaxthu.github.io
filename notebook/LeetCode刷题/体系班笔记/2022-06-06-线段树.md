---
date: 2022-05-26
course: 体系班 第32节 线段树 SegmentTree
detail: - 线段树思想
        - 线段树的代码，实现sum&update&querysum功能
---

<!--线段树的想法是比较好理解的，但是变形多，比如可以区间范围内的数字修改值update，区间值增加add，区间求和查询query，区间求最大max/最小值，同时还可能对他们进行组合。所以代码实现纷繁多样。-->

<!--主要的代码实现操作可以概括成pushUp,pushDown(伴随lazy操作)和带需求操作-->





> 线段树的代码在`package class31;`中

**<font color = #007FC8>线段树解决的问题：</font>**一段区间上统一增加，一段区间上统一修改，查询区间上累加和



线段树的实现有递归方法，非递归方法
一般来讲，线段树的递归深度不会太深，
比如long类型2^64的数据，线段树调用递归也64层，
因此不用担心线段树会爆掉。



